# Task Plan: Restore, Validate, and Complete Derive Tools Test Suite (V4)

### Goal
*   The overarching goal is to restore, validate, and complete the entire test suite for the `derive_tools` crate (V4 plan), ensuring all derive macros are fully functional and compliant with the latest Rust versions and `macro_tools` updates. This involves systematically re-enabling disabled tests, fixing compilation errors, addressing new lints, and ensuring all existing functionality works as expected.

### Ubiquitous Language (Vocabulary)
*   **Derive Macro:** A procedural macro that generates code based on the attributes applied to a data structure (struct, enum, or union).
*   **`derive_tools`:** The primary crate containing various derive macros.
*   **`derive_tools_meta`:** The procedural macro crate that implements the logic for `derive_tools`.
*   **`macro_tools`:** A utility crate providing common tools and abstractions for writing procedural macros.
*   **`trybuild`:** A testing tool used for compile-fail tests, ensuring that certain macro usages correctly produce compilation errors.
*   **`Deref` / `DerefMut` / `From`:** Standard library traits for smart pointers, mutable smart pointers, and type conversions, respectively.
*   **`#[deref]`, `#[deref_mut]`, `#[from]`:** Custom attributes used by `derive_tools` to specify behavior for derive macros.
*   **`PhantomData`:** A marker type used to tell the compiler about "phantom" type parameters that don't appear in the struct's fields but are necessary for type checking.
*   **`const` generics:** Generic parameters that take `const` values (e.g., `const N: usize`).
*   **`?Sized`:** A trait bound that indicates a type parameter may or may not be `Sized`.

### Progress
*   **Roadmap Milestone:** M1: Core Derive Macro Restoration
*   **Primary Editable Crate:** `module/core/derive_tools`
*   **Overall Progress:** 9/18 increments complete
*   **Increment Status:**
    *   ✅ Increment 1: Establish Initial Baseline
    *   ✅ Increment 2: Fix macro_tools const Generics Bug
    *   ✅ Increment 3: Re-enable and Fix Deref
    *   ✅ Increment 4: Re-enable and Fix DerefMut
    *   ✅ Increment 5: Re-enable and Fix From
    *   ✅ Increment 6: Re-enable and Fix Index
    *   ✅ Increment 7: Re-enable and Fix IndexMut
    *   ✅ Increment 8: Re-enable and Fix Not
    *   ✅ Increment 9: Re-enable and Fix Phantom
    *   ⏳ Increment 10: Re-enable and Fix AsMut
    *   ⚫ Increment 11: Re-enable and Fix AsRef
    *   ⚫ Increment 12: Re-enable and Fix Constructor
    *   ⚫ Increment 13: Re-enable and Fix Error
    *   ⚫ Increment 14: Re-enable and Fix Into
    *   ⚫ Increment 15: Re-enable and Fix IntoIterator
    *   ⚫ Increment 16: Re-enable and Fix IsVariant
    *   ⚫ Increment 17: Re-enable and Fix Unwrap
    *   ⚫ Increment 18: Finalization

### Permissions & Boundaries
*   **Mode:** code
*   **Run workspace-wise commands:** false
*   **Add transient comments:** true
*   **Additional Editable Crates:**
    *   `module/core/derive_tools_meta` (Reason: Implements the derive macros)
    *   `module/core/macro_tools` (Reason: Provides utilities for macro development, including `diag` for debugging)

### Relevant Context
*   Control Files to Reference (if they exist):
    *   `./roadmap.md`
    *   `./spec.md`
    *   `./spec_addendum.md`
*   Files to Include (for AI's reference, if `read_file` is planned):
    *   `module/core/derive_tools/tests/inc/mod.rs`
    *   `module/core/derive_tools/tests/inc/deref/basic_test.rs`
    *   `module/core/derive_tools/tests/inc/deref_mut/basic_test.rs`
    *   `module/core/derive_tools/tests/inc/from/basic_test.rs`
    *   `module/core/derive_tools_meta/src/derive/deref.rs`
    *   `module/core/derive_tools_meta/src/derive/deref_mut.rs`
    *   `module/core/derive_tools_meta/src/derive/from.rs`
    *   `module/core/macro_tools/src/attr.rs`
    *   `module/core/derive_tools/Cargo.toml`
*   Crates for Documentation (for AI's reference, if `read_file` on docs is planned):
    *   `derive_tools`
    *   `derive_tools_meta`
    *   `macro_tools`
*   External Crates Requiring `task.md` Proposals (if any identified during planning):
    *   None

### Expected Behavior Rules / Specifications
*   All derive macros in `derive_tools` must compile and pass their respective tests.
*   Generated code must adhere to Rust best practices and be idiomatic.
*   `Deref` and `DerefMut` derives should correctly handle tuple structs and named structs, including those with generics and `PhantomData`.
*   `From` derive should correctly handle single-field structs (both tuple and named) and multi-field structs with a `#[from]` attribute on one field, including those with generics, lifetimes, and `const` generics.
*   `PhantomData` fields in tuple structs should be correctly initialized in generated `From` implementations.
*   `where` clauses generated by macros should be syntactically correct and include all necessary predicates, including `[(); N]: Sized` for `const` generics.
*   All tests must pass with `cargo test -p derive_tools --test tests`.
*   No new warnings should be introduced.

### Crate Conformance Check Procedure
*   **Step 1: Run Tests.** Execute `timeout 90 cargo test -p derive_tools --test tests`. If this fails, fix all test errors before proceeding.
*   **Step 2: Run Linter (Conditional).** Only if Step 1 passes, execute `timeout 90 cargo clippy -p derive_tools -- -D warnings`.

### Increments
##### Increment 1: Establish Initial Baseline
*   **Goal:** Re-enable the `deref_tests` module and fix initial compilation errors to establish a working baseline for `Deref` derive.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `deref_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix `E0599` (no method named `deref`) by ensuring the `Deref` macro generates the correct `deref` method.
    *   Fix `E0252` (`Deref` is defined multiple times) by ensuring the macro generates the `impl` block only once.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable deref tests and fix initial compilation`

##### Increment 2: Fix macro_tools const Generics Bug
*   **Goal:** Address the `const` generics bug in `macro_tools` that causes `where` clause issues in derive macros.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Modify `macro_tools/src/generic_params.rs` to correctly handle `const` generics in `where` clauses. (This was done in a previous turn, but the plan needs to reflect it).
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `fix(macro_tools): Correct const generics handling in where clauses`

##### Increment 3: Re-enable and Fix Deref
*   **Goal:** Re-enable and fix all remaining issues with the `Deref` derive macro, ensuring it correctly handles various struct types and generics.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment all `deref_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Modify `module/core/derive_tools_meta/src/derive/deref.rs` to:
        *   Ensure correct handling of `where` clauses for generics.
        *   Use fully qualified paths (e.g., `::core::ops::Deref`).
        *   Handle multi-field structs by requiring a `#[deref]` attribute on one field.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Deref derive macro`

##### Increment 4: Re-enable and Fix DerefMut
*   **Goal:** Re-enable and fix all remaining issues with the `DerefMut` derive macro, ensuring it correctly handles various struct types and generics.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `deref_mut_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Modify `module/core/derive_tools_meta/src/derive/deref_mut.rs` to:
        *   Ensure correct handling of `where` clauses for generics.
        *   Use fully qualified paths (e.g., `::core::ops::DerefMut`).
        *   Handle multi-field structs by requiring a `#[deref_mut]` attribute on one field.
    *   Add `has_deref_mut` function to `module/core/macro_tools/src/attr.rs`.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix DerefMut derive macro`

##### Increment 5: Re-enable and Fix From
*   **Goal:** Re-enable and fix all remaining issues with the `From` derive macro, ensuring it correctly handles various struct types, generics, and `PhantomData`.
*   **Specification Reference:** T1.1, T1.2 from `module/core/derive_tools/tests/inc/from/basic_test.rs`
*   **Steps:**
    *   Uncomment `from_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Modify `module/core/derive_tools_meta/src/derive/from.rs` to:
        *   Handle multi-field structs by requiring a `#[from]` attribute on one field.
        *   Use fully qualified paths (`::core::convert::From`).
        *   Refactor `where` clause generation to correctly handle commas and `const` generic bounds (`[(); N]: Sized`).
        *   Correctly initialize `core::marker::PhantomData` fields in tuple structs by extracting their type arguments.
        *   Ensure `generics_ty_filtered` includes all generic parameters (lifetimes, types, and consts) for the `for #item_name< ... >` part.
        *   Ensure `generics_impl_filtered` correctly joins generic parameters with commas for the `impl< ... >` part.
    *   Add `has_from` function to `module/core/macro_tools/src/attr.rs`.
    *   Modify `module/core/derive_tools/tests/inc/from/basic_test.rs` to:
        *   Comment out `#[debug]` attributes.
        *   Correct the import for `macro_tools::diag`.
        *   Adjust generic arguments in `IsTransparentComplex` instantiation to match its definition (remove `0`).
        *   Re-add `?Sized` bound to `U` generic parameter in `IsTransparentComplex` struct definition.
    *   Modify `module/core/derive_tools/Cargo.toml` to enable `diag` feature for `macro_tools` in `dev-dependencies`.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix From derive macro`

##### Increment 6: Re-enable and Fix Index
*   **Goal:** Re-enable and fix all remaining issues with the `Index` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `index_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `Index` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Index derive macro`

##### Increment 7: Re-enable and Fix IndexMut
*   **Goal:** Re-enable and fix all remaining issues with the `IndexMut` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `index_mut_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Run `timeout 90 cargo test -p derive_tools --test tests`.
    *   Analyze the output for compilation errors or test failures related to `IndexMut`.
    *   If errors occur, modify `module/core/derive_tools_meta/src/derive/index_mut.rs` to address them. This may involve:
        *   Ensuring `core::ops::IndexMut` is fully qualified.
        *   Verifying correct usage of generic parameters and `where` clauses.
        *   Addressing any issues with `type Output` or the `index_mut` method body.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix IndexMut derive macro`

##### Increment 8: Re-enable and Fix Not
*   **Goal:** Re-enable and fix all remaining issues with the `Not` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `not_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Create `module/core/derive_tools/tests/inc/not/only_test/struct_named.rs` with shared test logic.
    *   Modify `module/core/derive_tools/tests/inc/not/struct_named.rs` to include `only_test/struct_named.rs`.
    *   Modify `module/core/derive_tools/tests/inc/not/struct_named_manual.rs` to include `only_test/struct_named.rs`.
    *   Modify `module/core/derive_tools_meta/src/derive/not.rs` to iterate through fields and apply `!` to all boolean fields, copying non-boolean fields as is.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Not derive macro`

##### Increment 9: Re-enable and Fix Phantom
*   **Goal:** Re-enable and fix all remaining issues with the `Phantom` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `phantom_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Create `module/core/derive_tools/tests/inc/phantom/only_test/struct_named.rs` with shared test logic.
    *   Modify `module/core/derive_tools/tests/inc/phantom/struct_named.rs` to include `only_test/struct_named.rs`.
    *   Modify `module/core/derive_tools/tests/inc/phantom/struct_named_manual.rs` to include `only_test/struct_named.rs`.
    *   Modify `module/core/derive_tools_meta/src/derive/phantom.rs` to correctly implement `PhantomData` for structs.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Phantom derive macro`

##### Increment 10: Re-enable and Fix AsMut
*   **Goal:** Re-enable and fix all remaining issues with the `AsMut` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `as_mut_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `AsMut` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix AsMut derive macro`

##### Increment 11: Re-enable and Fix AsRef
*   **Goal:** Re-enable and fix all remaining issues with the `AsRef` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `as_ref_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `AsRef` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix AsRef derive macro`

##### Increment 12: Re-enable and Fix Constructor
*   **Goal:** Re-enable and fix all remaining issues with the `Constructor` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `constructor_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `Constructor` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Constructor derive macro`

##### Increment 13: Re-enable and Fix Error
*   **Goal:** Re-enable and fix all remaining issues with the `Error` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `error_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `Error` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Error derive macro`

##### Increment 14: Re-enable and Fix Into
*   **Goal:** Re-enable and fix all remaining issues with the `Into` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `into_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `Into` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Into derive macro`

##### Increment 15: Re-enable and Fix IntoIterator
*   **Goal:** Re-enable and fix all remaining issues with the `IntoIterator` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `into_iterator_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `IntoIterator` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix IntoIterator derive macro`

##### Increment 16: Re-enable and Fix IsVariant
*   **Goal:** Re-enable and fix all remaining issues with the `IsVariant` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `is_variant_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `IsVariant` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix IsVariant derive macro`

##### Increment 17: Re-enable and Fix Unwrap
*   **Goal:** Re-enable and fix all remaining issues with the `Unwrap` derive macro.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Uncomment `unwrap_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
    *   Fix compilation errors and ensure correct behavior for `Unwrap` derive.
    *   Perform Increment Verification.
    *   Perform Crate Conformance Check.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
*   **Commit Message:** `feat(derive_tools): Re-enable and fix Unwrap derive macro`

##### Increment 18: Finalization
*   **Goal:** Perform a final, holistic review and verification of the entire task's output.
*   **Specification Reference:** N/A
*   **Steps:**
    *   Review all changes made during the task against the `Task Requirements` and `Project Requirements`.
    *   Ensure all tests are passing and no new warnings are present.
    *   Run `cargo clippy --workspace -- -D warnings` to ensure no new lints are introduced across the entire workspace.
    *   Perform a final `git status` to ensure the working directory is clean.
    *   If all checks pass, mark the task as complete.
*   **Increment Verification:**
    *   Execute `timeout 90 cargo test -p derive_tools --test tests`.
    *   Execute `timeout 90 cargo clippy -p derive_tools -- -D warnings`.
    *   Execute `git status`.
*   **Commit Message:** `chore(derive_tools): Finalize derive_tools test suite restoration`

### Task Requirements
*   All existing tests for `derive_tools` must pass.
*   No new compilation warnings or errors should be introduced.
*   The `derive_tools` crate must compile successfully.
*   The `macro_tools` crate must compile successfully.
*   All changes must adhere to the project's codestyle and design rules.
*   All changes must be committed with clear, concise messages.

### Project Requirements
*   Must use Rust 2021 edition.
*   All new APIs must be async (if applicable).
*   All dependencies must be centralized in `[workspace.dependencies]` in the root `Cargo.toml`.
*   Lint configurations must be defined in `[workspace.lints]` and inherited by member crates.
*   Code must be well-documented where necessary, focusing on rationale.
*   Automated tests should only be added if explicitly requested and planned.
*   All test files must be in the `tests` directory.
*   Test files and functions must be documented with Test Matrices and purpose.
*   `macro_tools` should be preferred over `syn`, `quote`, `proc-macro2` for proc-macro development.
*   Module structure should be organized by feature or layer, not by item type.
*   `mod_interface!` should be used for layered architectures and controlled visibility.
*   All definitions and details should be inside `mod private` when using `mod_interface!`.
*   Exported items in `mod_interface!` should be listed in the same order as their definition.

### Assumptions
*   The `macro_tools` crate is correctly set up in the workspace and its features can be enabled via `Cargo.toml`.
*   The `test_tools` crate is available and correctly configured for assertions.
*   The `trybuild` tool is correctly set up for compile-fail tests.
*   The existing test structure and `mod.rs` inclusions are generally correct, requiring only uncommenting and specific fixes.

### Out of Scope
*   Implementing new derive macros not currently present in `derive_tools`.
*   Major refactoring of existing, working derive macros beyond what is necessary to fix compilation or test failures.
*   Changes to `derive_more` or `parse-display` crates, as they are external dependencies.
*   Optimizing performance of derive macros unless directly related to a bug fix.

### External System Dependencies (Optional)
*   None

### Notes & Insights
*   The `#[debug]` attribute for macro expansion debugging is useful but needs to be correctly enabled/imported.
*   Careful handling of generic parameters (lifetimes, types, consts) and `where` clauses is crucial for correct macro expansion.
*   `PhantomData` initialization in tuple structs requires special attention to type arguments.

### Changelog
*   [Increment 1 | 2025-07-05 06:00 UTC] Re-enabled `deref_tests` and fixed initial compilation errors.
*   [Increment 2 | 2025-07-05 06:05 UTC] Fixed `macro_tools` `const` generics handling in `where` clauses.
*   [Increment 3 | 2025-07-05 06:15 UTC] Re-enabled and fixed `Deref` derive macro, addressing `where` clauses, absolute paths, and multi-field structs.
*   [Increment 4 | 2025-07-05 06:25 UTC] Re-enabled and fixed `DerefMut` derive macro, including `has_deref_mut` function.
*   [Increment 5 | 2025-07-05 06:53 UTC] Re-enabled and fixed `From` derive macro, handling generics, `PhantomData`, and `const` generics.
*   [Increment 6 | 2025-07-05 08:40 UTC] Re-enabled and fixed `Index` derive macro.
*   [Increment 7 | 2025-07-05 08:44 UTC] Uncommented `index_mut_tests` in `module/core/derive_tools/tests/inc/mod.rs`.
*   [Increment 7 | 2025-07-05 08:47 UTC] Added `use super::*;` to `module/core/derive_tools/tests/inc/index_mut_only_test.rs`.
*   [Increment 7 | 2025-07-05 08:47 UTC] Added `has_index_mut` function to `macro_tools/src/attr.rs`.
*   [Increment 7 | 2025-07-05 08:47 UTC] Exposed `has_index_mut` in `macro_tools/src/attr.rs`.
*   [Increment 7 | 2025-07-05 08:48 UTC] Modified `index_mut.rs` to use `#[index_mut]` attribute.
*   [Increment 7 | 2025-07-05 08:48 UTC] Added `#[index_mut]` attribute to fields in `basic_test.rs`.
*   [Increment 7 | 2025-07-05 08:49 UTC] Fixed `IndexMut` derive to correctly handle `syn::Fields` enum.
*   [Increment 7 | 2025-07-05 08:50 UTC] Commented out non-basic `IndexMut` tests in `mod.rs` for isolation.
*   [Increment 7 | 2025-07-05 08:51 UTC] Isolated `IndexMut` tests to `minimal_test.rs`.
*   [Increment 7 | 2025-07-05 08:51 UTC] Explicitly imported `IndexMut` in `minimal_test.rs`.
*   [Increment 7 | 2025-07-05 08:52 UTC] Modified `IndexMut` derive to also implement `Index` trait.
*   [Increment 7 | 2025-07-05 08:53 UTC] Confirmed all `IndexMut` tests pass after blessing `trybuild` outputs.
*   [Increment 8 | 2025-07-05 08:54 UTC] Detailed planning for `Not` derive macro.
*   [Increment 8 | 2025-07-05 08:57 UTC] Uncommented `not_tests` module in `mod.rs` and isolated tests.
*   [Increment 9 | 2025-07-05 08:59 UTC] Detailed planning for `Phantom` derive macro.
*   [Increment 9 | 2025-07-05 09:00 UTC] Created `only_test/struct_named.rs` for `Phantom` tests, updated test files, and fixed `phantom.rs` derive macro.
*   [Increment 9 | 2025-07-05 09:02 UTC] Confirmed all `Phantom` tests pass.